# 要件定義書

## 目的
CLI版タスク管理（TODO）アプリの要件を明確化し、実装に必要な機能・品質・運用条件を定義する。

## 背景
- 個人がCLIで簡易にタスク管理できるアプリが必要である。
- タスクはローカルに保存し、追加・完了・削除・一覧表示ができることが求められる。
- 優先度・期限・カテゴリによる分類も行いたい。

## 対象ユーザー
- ローカル環境でCLI操作に慣れている一般ユーザー。

## スコープ
- 対象: タスクの登録・更新・完了・削除・一覧表示・分類・検索
- 対象外: 外部データベース連携、クラウド同期、GUI

## 機能要件
### タスクの追加
- タイトル（必須）
- 説明（任意）
- 優先度（例: 高/中/低。必須）
- 期限（任意。日付形式）
- カテゴリ（任意。複数可）

### タスクの完了
- 指定タスクを完了状態にできる。
- 完了日時を記録する。

### タスクの削除
- 指定タスクを削除できる。

### タスク一覧表示
- すべてのタスクを表示できる。
- 完了/未完了で絞り込みできる。
- 優先度、期限、カテゴリで絞り込みできる。
- 期限順・優先度順などの並び替えができる。
- 既定の並び順と表示項目が定義されている。

### タスクの編集
- タイトル、説明、優先度、期限、カテゴリを変更できる。

### 検索
- タイトル・説明に対してキーワード検索ができる。

### 取り消し
- 完了済みタスクを未完了に戻せる。

## データ要件
- タスク情報はローカルに保存される。
- 保存形式は tasks.json に対応する。
- 1タスクは一意に識別できるIDを持つ。
- IDの生成ルールが定義されている。
- カテゴリのルール（上限・重複・大小文字の扱い）が定義されている。
- 期限入力の形式とタイムゾーンの扱いが定義されている。

## 非機能要件
### 安全性
- 型チェックによる安全性の確保を満たすこと。

### 品質
- 自動テストを導入し、テストカバレッジ90%以上を目標とする。

### 可用性
- CLI上での操作が一貫して行えること。
 
## エラーハンドリング要件
- 存在しないIDを指定した場合の挙動が定義されている。
- 無効な日付形式を入力した場合の挙動が定義されている。
- タイトルが空の場合の挙動が定義されている。

### 性能
- 一般的な個人利用規模でストレスなく動作すること。

## 制約条件
- 外部データベースは使用しない。
- ローカルストレージの利用は許可される。

## 受入条件
- タスクの追加、完了、削除、一覧表示がCLIで可能であること。
- 優先度・期限・カテゴリでの分類と絞り込みが可能であること。
- データが tasks.json に保存されること。
- 型チェックの安全性確保と、テスト導入が完了していること。
- テストカバレッジが90%以上であること（計測可能であること）。
